{
  "report_time": "2025-08-29T21:06:04.261707",
  "summary": {
    "total_tests": 10,
    "passed_tests": 0,
    "failed_tests": 10,
    "pass_rate": 0.0,
    "total_duration": 34.27008628845215
  },
  "results": [
    {
      "test_file": "tests/test_smoke.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/test_smoke.py -v --tb=short",
      "duration": 1.8524367809295654,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/test_smoke.py::test_smoke PASSED                                   [100%]\nERROR: Coverage failure: total of 0.00 is less than fail-under=80.00\n\n\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss  Cover   Missing\n------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35  0.00%   5-111\nsrc\\api\\main.py                        102    102  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97  0.00%   5-184\nsrc\\services\\symbols.py                 36     36  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52  0.00%   2-97\nsrc\\sofia\\config.py                     30     30  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12  0.00%   1-30\nstart_api.py                            40     40  0.00%   7-77\nstart_infrastructure.py                197    197  0.00%   7-417\nstart_sofia.py                         123    123  0.00%   7-187\nstart_ui.py                             34     34  0.00%   7-58\ntest_real_data_harness.py              139    139  0.00%   7-227\ntest_system.py                         117    117  0.00%   5-184\nverify_installation.py                  69     69  0.00%   5-104\n------------------------------------------------------------------\nTOTAL                                 1849   1849  0.00%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.00%\n============================== 1 passed in 0.57s ==============================\n",
      "stderr": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\coverage\\control.py:945: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n",
      "success": false
    },
    {
      "test_file": "tests/test_symbols.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/test_symbols.py -v --tb=short",
      "duration": 1.6948192119598389,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 5 items\n\ntests/test_symbols.py::test_roundtrip PASSED                             [ 20%]\ntests/test_symbols.py::test_binance_to_ui PASSED                         [ 40%]\ntests/test_symbols.py::test_ui_to_binance PASSED                         [ 60%]\ntests/test_symbols.py::test_invalid_passthrough PASSED                   [ 80%]\ntests/test_symbols.py::test_is_valid_symbol PASSED                       [100%]\nERROR: Coverage failure: total of 0.53 is less than fail-under=80.00\n\n\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss Branch BrPart  Cover   Missing\n--------------------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170     52      0  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89     26      0  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47      6      0  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69     12      0  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35      4      0  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35      0      0  0.00%   5-111\nsrc\\api\\main.py                        102    102     12      0  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77     22      0  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72     10      0  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97     32      0  0.00%   5-184\nsrc\\services\\symbols.py                 36     36     18      0  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52     14      0  0.00%   2-97\nsrc\\sofia\\config.py                     30     30      4      0  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84     12      0  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24      6      0  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99     28      0  0.00%   5-218\nstart_api.py                            40     40      4      0  0.00%   7-77\nstart_infrastructure.py                197    197     56      0  0.00%   7-417\nstart_sofia.py                         123    123     28      0  0.00%   7-187\nstart_ui.py                             34     34      6      0  0.00%   7-58\ntest_real_data_harness.py              139    139     48      0  0.00%   7-227\ntest_system.py                         117    117     20      0  0.00%   5-184\nverify_installation.py                  69     69      8      0  0.00%   5-104\n--------------------------------------------------------------------------------\nTOTAL                                 1849   1837    428      0  0.53%\n\n1 file skipped due to complete coverage.\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.53%\n============================== 5 passed in 0.52s ==============================\n",
      "stderr": "",
      "success": false
    },
    {
      "test_file": "tests/test_api_contract.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/test_api_contract.py -v --tb=short",
      "duration": 1.445765495300293,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 5 items\n\ntests/test_api_contract.py::test_api_health_contract PASSED              [ 20%]\ntests/test_api_contract.py::test_symbols_endpoint_contract PASSED        [ 40%]\ntests/test_api_contract.py::test_price_endpoint_contract PASSED          [ 60%]\ntests/test_api_contract.py::test_metrics_endpoint_contract PASSED        [ 80%]\ntests/test_api_contract.py::test_debug_endpoint_contract PASSED          [100%]\nERROR: Coverage failure: total of 0.00 is less than fail-under=80.00\n\n\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss  Cover   Missing\n------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35  0.00%   5-111\nsrc\\api\\main.py                        102    102  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97  0.00%   5-184\nsrc\\services\\symbols.py                 36     36  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52  0.00%   2-97\nsrc\\sofia\\config.py                     30     30  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12  0.00%   1-30\nstart_api.py                            40     40  0.00%   7-77\nstart_infrastructure.py                197    197  0.00%   7-417\nstart_sofia.py                         123    123  0.00%   7-187\nstart_ui.py                             34     34  0.00%   7-58\ntest_real_data_harness.py              139    139  0.00%   7-227\ntest_system.py                         117    117  0.00%   5-184\nverify_installation.py                  69     69  0.00%   5-104\n------------------------------------------------------------------\nTOTAL                                 1849   1849  0.00%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.00%\n============================== 5 passed in 0.42s ==============================\n",
      "stderr": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\coverage\\control.py:945: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n",
      "success": false
    },
    {
      "test_file": "tests/test_live_data.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/test_live_data.py -v --tb=short",
      "duration": 2.8407175540924072,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 14 items\n\ntests/test_live_data.py::TestLiveDataService::test_service_initialization PASSED [  7%]\ntests/test_live_data.py::TestLiveDataService::test_format_volume PASSED  [ 14%]\ntests/test_live_data.py::TestLiveDataService::test_fallback_data_btc PASSED [ 21%]\ntests/test_live_data.py::TestLiveDataService::test_fallback_data_unknown_symbol PASSED [ 28%]\ntests/test_live_data.py::TestLiveDataService::test_fallback_fear_greed PASSED [ 35%]\ntests/test_live_data.py::TestLiveDataService::test_fallback_crypto_data PASSED [ 42%]\ntests/test_live_data.py::TestLiveDataService::test_cache_functionality PASSED [ 50%]\ntests/test_live_data.py::TestLiveDataService::test_get_live_price_success PASSED [ 57%]\ntests/test_live_data.py::TestLiveDataService::test_get_live_price_failure PASSED [ 64%]\ntests/test_live_data.py::TestLiveDataService::test_get_multiple_prices PASSED [ 71%]\ntests/test_live_data.py::TestLiveDataService::test_get_crypto_fear_greed_success PASSED [ 78%]\ntests/test_live_data.py::TestLiveDataService::test_get_crypto_fear_greed_failure PASSED [ 85%]\ntests/test_live_data.py::TestLiveDataService::test_get_crypto_market_data_success PASSED [ 92%]\ntests/test_live_data.py::TestLiveDataService::test_get_market_summary PASSED [100%]\nERROR: Coverage failure: total of 5.01 is less than fail-under=80.00\n\n\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss Branch BrPart  Cover   Missing\n--------------------------------------------------------------------------------\nsofia_ui\\live_data.py                  167     60     30      5 62.94%   46, 54, 92-134, 144-194, 232-236, 240-242, 264, 288-290, 308-312, 409-426, 430-447, 451\nsrc\\adapters\\binance_ws.py             170    170     52      0  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89     26      0  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47      6      0  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69     12      0  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35      4      0  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35      0      0  0.00%   5-111\nsrc\\api\\main.py                        102    102     12      0  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77     22      0  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72     10      0  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97     32      0  0.00%   5-184\nsrc\\services\\symbols.py                 36     36     18      0  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52     14      0  0.00%   2-97\nsrc\\sofia\\config.py                     30     30      4      0  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84     12      0  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24      6      0  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99     28      0  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12      0      0  0.00%   1-30\nstart_api.py                            40     40      4      0  0.00%   7-77\nstart_infrastructure.py                197    197     56      0  0.00%   7-417\nstart_sofia.py                         123    123     28      0  0.00%   7-187\nstart_ui.py                             34     34      6      0  0.00%   7-58\ntest_real_data_harness.py              139    139     48      0  0.00%   7-227\ntest_system.py                         117    117     20      0  0.00%   5-184\nverify_installation.py                  69     69      8      0  0.00%   5-104\n--------------------------------------------------------------------------------\nTOTAL                                 2016   1909    458      5  5.01%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 5.01%\n============================= 14 passed in 1.43s ==============================\n",
      "stderr": "",
      "success": false
    },
    {
      "test_file": "tests/test_reliability.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/test_reliability.py -v --tb=short",
      "duration": 4.143433094024658,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 5 items\n\ntests/test_reliability.py::test_ttl_cache_basic PASSED                   [ 20%]\ntests/test_reliability.py::test_ttl_cache_cleanup PASSED                 [ 40%]\ntests/test_reliability.py::test_price_tick_creation PASSED               [ 60%]\ntests/test_reliability.py::test_reliability_feed_init PASSED             [ 80%]\ntests/test_reliability.py::test_reliability_feed_metrics PASSED          [100%]\nERROR: Coverage failure: total of 4.30 is less than fail-under=80.00\n\n\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss Branch BrPart  Cover   Missing\n--------------------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170     52      0  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89     26      0  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47      6      0  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69     12      0  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35      4      0  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35      0      0  0.00%   5-111\nsrc\\api\\main.py                        102    102     12      0  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77     22      0  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72     10      0  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97     32      0  0.00%   5-184\nsrc\\services\\symbols.py                 36     36     18      0  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52     14      0  0.00%   2-97\nsrc\\sofia\\config.py                     30      3      4      2 85.29%   8->11, 14, 20-21\nsrc\\sofia\\data\\realtime.py              84     49     12      0 36.46%   48-52, 56-60, 64-91, 96-138\nsrc\\sofia\\data\\ttl_cache.py             24      2      6      1 90.00%   21, 32\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99     28      0  0.00%   5-218\nsrc\\sofia\\symbols.py                    12      5      0      0 58.33%   20-21, 25-26, 30\nstart_api.py                            40     40      4      0  0.00%   7-77\nstart_infrastructure.py                197    197     56      0  0.00%   7-417\nstart_sofia.py                         123    123     28      0  0.00%   7-187\nstart_ui.py                             34     34      6      0  0.00%   7-58\ntest_real_data_harness.py              139    139     48      0  0.00%   7-227\ntest_system.py                         117    117     20      0  0.00%   5-184\nverify_installation.py                  69     69      8      0  0.00%   5-104\n--------------------------------------------------------------------------------\nTOTAL                                 1849   1758    428      3  4.30%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 4.30%\n============================== 5 passed in 2.98s ==============================\n",
      "stderr": "",
      "success": false
    },
    {
      "test_file": "tests/test_rest_fallback.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/test_rest_fallback.py -v --tb=short",
      "duration": 1.9988563060760498,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/test_rest_fallback.py::test_rest_fallback FAILED                   [100%]\nERROR: Coverage failure: total of 0.00 is less than fail-under=80.00\n\n\n================================== FAILURES ===================================\n_____________________________ test_rest_fallback ______________________________\ntests\\test_rest_fallback.py:37: in test_rest_fallback\n    assert response.status_code == 200\nE   assert 404 == 200\nE    +  where 404 = <Response [404 Not Found]>.status_code\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss  Cover   Missing\n------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35  0.00%   5-111\nsrc\\api\\main.py                        102    102  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97  0.00%   5-184\nsrc\\services\\symbols.py                 36     36  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52  0.00%   2-97\nsrc\\sofia\\config.py                     30     30  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12  0.00%   1-30\nstart_api.py                            40     40  0.00%   7-77\nstart_infrastructure.py                197    197  0.00%   7-417\nstart_sofia.py                         123    123  0.00%   7-187\nstart_ui.py                             34     34  0.00%   7-58\ntest_real_data_harness.py              139    139  0.00%   7-227\ntest_system.py                         117    117  0.00%   5-184\nverify_installation.py                  69     69  0.00%   5-104\n------------------------------------------------------------------\nTOTAL                                 1849   1849  0.00%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.00%\n=========================== short test summary info ===========================\nFAILED tests/test_rest_fallback.py::test_rest_fallback - assert 404 == 200\n +  where 404 = <Response [404 Not Found]>.status_code\n============================== 1 failed in 0.95s ==============================\n",
      "stderr": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\coverage\\control.py:945: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n",
      "success": false
    },
    {
      "test_file": "tests/e2e/test_route_audit_comprehensive.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/e2e/test_route_audit_comprehensive.py -v --tb=short -s",
      "duration": 15.49529767036438,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 5 items\n\ntests/e2e/test_route_audit_comprehensive.py::test_api_core_endpoints PASSED\ntests/e2e/test_route_audit_comprehensive.py::test_ui_core_routes PASSED\ntests/e2e/test_route_audit_comprehensive.py::test_api_error_handling FAILED\ntests/e2e/test_route_audit_comprehensive.py::test_performance_benchmarks PASSED\ntests/e2e/test_route_audit_comprehensive.py::test_full_route_audit FAILED\nERROR: Coverage failure: total of 0.00 is less than fail-under=80.00\n\n\n================================== FAILURES ===================================\n___________________________ test_api_error_handling ___________________________\ntests\\e2e\\test_route_audit_comprehensive.py:227: in test_api_error_handling\n    assert passed_error_tests / len(error_tests) >= 0.8, f\"API error handling too poor: {passed_error_tests}/{len(error_tests)}\"\nE   AssertionError: API error handling too poor: 3/5\nE   assert (3 / 5) >= 0.8\nE    +  where 5 = len([{'method': 'GET', 'path': '/nonexistent/endpoint', 'url': 'http://127.0.0.1:8024/nonexistent/endpoint', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 1.58, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/invalid', 'url': 'http://127.0.0.1:8024/market/invalid', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 0.62, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/quotes?symbols=', 'url': 'http://127.0.0.1:8024/market/quotes?symbols=', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 0.7, 'success': False, 'response_size': 2, 'error': None}, {'method': 'GET', 'path': '/market/ohlcv?symbol=INVALID', 'url': 'http://127.0.0.1:8024/market/ohlcv?symbol=INVALID', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 858.43, 'success': False, 'response_size': 52, 'error': None}, {'method': 'POST', 'path': '/ai/predict', 'url': 'http://127.0.0.1:8024/ai/predict', 'expected_status': 422, 'actual_status': 422, 'duration_ms': 2.31, 'success': True, 'response_size': 115, 'error': None}])\n____________________________ test_full_route_audit ____________________________\ntests\\e2e\\test_route_audit_comprehensive.py:279: in test_full_route_audit\n    await test_api_error_handling()\ntests\\e2e\\test_route_audit_comprehensive.py:227: in test_api_error_handling\n    assert passed_error_tests / len(error_tests) >= 0.8, f\"API error handling too poor: {passed_error_tests}/{len(error_tests)}\"\nE   AssertionError: API error handling too poor: 3/5\nE   assert (3 / 5) >= 0.8\nE    +  where 5 = len([{'method': 'GET', 'path': '/nonexistent/endpoint', 'url': 'http://127.0.0.1:8024/nonexistent/endpoint', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 1.13, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/invalid', 'url': 'http://127.0.0.1:8024/market/invalid', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 0.56, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/quotes?symbols=', 'url': 'http://127.0.0.1:8024/market/quotes?symbols=', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 0.51, 'success': False, 'response_size': 2, 'error': None}, {'method': 'GET', 'path': '/market/ohlcv?symbol=INVALID', 'url': 'http://127.0.0.1:8024/market/ohlcv?symbol=INVALID', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 440.74, 'success': False, 'response_size': 52, 'error': None}, {'method': 'POST', 'path': '/ai/predict', 'url': 'http://127.0.0.1:8024/ai/predict', 'expected_status': 422, 'actual_status': 422, 'duration_ms': 0.78, 'success': True, 'response_size': 115, 'error': None}])\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss  Cover   Missing\n------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35  0.00%   5-111\nsrc\\api\\main.py                        102    102  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97  0.00%   5-184\nsrc\\services\\symbols.py                 36     36  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52  0.00%   2-97\nsrc\\sofia\\config.py                     30     30  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12  0.00%   1-30\nstart_api.py                            40     40  0.00%   7-77\nstart_infrastructure.py                197    197  0.00%   7-417\nstart_sofia.py                         123    123  0.00%   7-187\nstart_ui.py                             34     34  0.00%   7-58\ntest_real_data_harness.py              139    139  0.00%   7-227\ntest_system.py                         117    117  0.00%   5-184\nverify_installation.py                  69     69  0.00%   5-104\n------------------------------------------------------------------\nTOTAL                                 1849   1849  0.00%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.00%\n=========================== short test summary info ===========================\nFAILED tests/e2e/test_route_audit_comprehensive.py::test_api_error_handling - AssertionError: API error handling too poor: 3/5\nassert (3 / 5) >= 0.8\n +  where 5 = len([{'method': 'GET', 'path': '/nonexistent/endpoint', 'url': 'http://127.0.0.1:8024/nonexistent/endpoint', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 1.58, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/invalid', 'url': 'http://127.0.0.1:8024/market/invalid', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 0.62, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/quotes?symbols=', 'url': 'http://127.0.0.1:8024/market/quotes?symbols=', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 0.7, 'success': False, 'response_size': 2, 'error': None}, {'method': 'GET', 'path': '/market/ohlcv?symbol=INVALID', 'url': 'http://127.0.0.1:8024/market/ohlcv?symbol=INVALID', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 858.43, 'success': False, 'response_size': 52, 'error': None}, {'method': 'POST', 'path': '/ai/predict', 'url': 'http://127.0.0.1:8024/ai/predict', 'expected_status': 422, 'actual_status': 422, 'duration_ms': 2.31, 'success': True, 'response_size': 115, 'error': None}])\nFAILED tests/e2e/test_route_audit_comprehensive.py::test_full_route_audit - AssertionError: API error handling too poor: 3/5\nassert (3 / 5) >= 0.8\n +  where 5 = len([{'method': 'GET', 'path': '/nonexistent/endpoint', 'url': 'http://127.0.0.1:8024/nonexistent/endpoint', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 1.13, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/invalid', 'url': 'http://127.0.0.1:8024/market/invalid', 'expected_status': 404, 'actual_status': 404, 'duration_ms': 0.56, 'success': True, 'response_size': 23, 'error': None}, {'method': 'GET', 'path': '/market/quotes?symbols=', 'url': 'http://127.0.0.1:8024/market/quotes?symbols=', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 0.51, 'success': False, 'response_size': 2, 'error': None}, {'method': 'GET', 'path': '/market/ohlcv?symbol=INVALID', 'url': 'http://127.0.0.1:8024/market/ohlcv?symbol=INVALID', 'expected_status': 422, 'actual_status': 200, 'duration_ms': 440.74, 'success': False, 'response_size': 52, 'error': None}, {'method': 'POST', 'path': '/ai/predict', 'url': 'http://127.0.0.1:8024/ai/predict', 'expected_status': 422, 'actual_status': 422, 'duration_ms': 0.78, 'success': True, 'response_size': 115, 'error': None}])\n======================== 2 failed, 3 passed in 14.43s =========================\n",
      "stderr": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\coverage\\control.py:945: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n",
      "success": false
    },
    {
      "test_file": "tests/e2e/test_backtest_flow_comprehensive.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/e2e/test_backtest_flow_comprehensive.py -v --tb=short -s",
      "duration": 1.7091121673583984,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 2 items\n\ntests/e2e/test_backtest_flow_comprehensive.py::test_complete_backtest_flow FAILED\ntests/e2e/test_backtest_flow_comprehensive.py::test_backtest_edge_cases FAILED\nERROR: Coverage failure: total of 0.00 is less than fail-under=80.00\n\n\n================================== FAILURES ===================================\n_________________________ test_complete_backtest_flow _________________________\ntests\\e2e\\test_backtest_flow_comprehensive.py:335: in test_complete_backtest_flow\n    assert passed_tests / total_tests >= 0.7, f\"Backtest flow pass rate too low: {passed_tests}/{total_tests} ({passed_tests/total_tests*100:.1f}%)\"\nE   AssertionError: Backtest flow pass rate too low: 1/3 (33.3%)\nE   assert (1 / 3) >= 0.7\n------------------------------ Captured log call ------------------------------\nERROR    test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:75 \\u2717 Failed to get strategies: assert 404 == 200\\n +  where 404 = <ClientResponse(http://127.0.0.1:8024/backtest/strategies) [404 Not Found]>\\\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:00 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\\\n.status\\nWARNING  test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:252 \\u26a0 Missing UI elements: ['timeframe']\\nERROR    test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:115 \\u2717 Failed to create backtest: Status 404, {\"detail\":\"Not Found\"}\\nWARNING  test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:328 FAILED TESTS:\\nWARNING  test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:330   get_strategies - assert 404 == 200\\n +  where 404 = <ClientResponse(http://127.0.0.1:8024/backtest/strategies) [404 Not Found]>\\\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:00 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\\\n.status\\nWARNING  test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:330   create_backtest - Status 404\n__________________________ test_backtest_edge_cases ___________________________\ntests\\e2e\\test_backtest_flow_comprehensive.py:357: in test_backtest_edge_cases\n    assert response.status in [400, 422], f\"Expected error status, got {response.status}\"\nE   AssertionError: Expected error status, got 404\nE   assert 404 in [400, 422]\nE    +  where 404 = <ClientResponse(http://127.0.0.1:8024/backtest/create) [404 Not Found]>\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:00 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\n.status\n\nDuring handling of the above exception, another exception occurred:\ntests\\e2e\\test_backtest_flow_comprehensive.py:361: in test_backtest_edge_cases\n    pytest.fail(str(e))\nE   Failed: Expected error status, got 404\nE   assert 404 in [400, 422]\nE    +  where 404 = <ClientResponse(http://127.0.0.1:8024/backtest/create) [404 Not Found]>\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:00 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\n.status\n------------------------------ Captured log call ------------------------------\nERROR    test_backtest_flow_comprehensive:test_backtest_flow_comprehensive.py:360 \\u2717 Invalid strategy not properly rejected: Expected error status, got 404\\nassert 404 in [400, 422]\\n +  where 404 = <ClientResponse(http://127.0.0.1:8024/backtest/create) [404 Not Found]>\\\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:00 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\\\n.status\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss  Cover   Missing\n------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35  0.00%   5-111\nsrc\\api\\main.py                        102    102  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97  0.00%   5-184\nsrc\\services\\symbols.py                 36     36  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52  0.00%   2-97\nsrc\\sofia\\config.py                     30     30  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12  0.00%   1-30\nstart_api.py                            40     40  0.00%   7-77\nstart_infrastructure.py                197    197  0.00%   7-417\nstart_sofia.py                         123    123  0.00%   7-187\nstart_ui.py                             34     34  0.00%   7-58\ntest_real_data_harness.py              139    139  0.00%   7-227\ntest_system.py                         117    117  0.00%   5-184\nverify_installation.py                  69     69  0.00%   5-104\n------------------------------------------------------------------\nTOTAL                                 1849   1849  0.00%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.00%\n=========================== short test summary info ===========================\nFAILED tests/e2e/test_backtest_flow_comprehensive.py::test_complete_backtest_flow - AssertionError: Backtest flow pass rate too low: 1/3 (33.3%)\nassert (1 / 3) >= 0.7\nFAILED tests/e2e/test_backtest_flow_comprehensive.py::test_backtest_edge_cases - Failed: Expected error status, got 404\nassert 404 in [400, 422]\n +  where 404 = <ClientResponse(http://127.0.0.1:8024/backtest/create) [404 Not Found]>\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:00 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\n.status\n============================== 2 failed in 0.68s ==============================\n",
      "stderr": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\coverage\\control.py:945: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n",
      "success": false
    },
    {
      "test_file": "tests/e2e/test_optimizer_flow_comprehensive.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/e2e/test_optimizer_flow_comprehensive.py -v --tb=short -s",
      "duration": 1.7949795722961426,
      "returncode": 1,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 2 items\n\ntests/e2e/test_optimizer_flow_comprehensive.py::test_complete_optimizer_flow FAILED\ntests/e2e/test_optimizer_flow_comprehensive.py::test_optimizer_edge_cases FAILED\nERROR: Coverage failure: total of 0.00 is less than fail-under=80.00\n\n\n================================== FAILURES ===================================\n________________________ test_complete_optimizer_flow _________________________\ntests\\e2e\\test_optimizer_flow_comprehensive.py:407: in test_complete_optimizer_flow\n    assert passed_tests / total_tests >= 0.6, f\"Optimizer flow pass rate too low: {passed_tests}/{total_tests} ({passed_tests/total_tests*100:.1f}%)\"\nE   AssertionError: Optimizer flow pass rate too low: 1/5 (20.0%)\nE   assert (1 / 5) >= 0.6\n------------------------------ Captured log call ------------------------------\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:84 \\u26a0 Optimization methods endpoint returned 404\\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:98 \\u26a0 Parameters endpoint returned 404\\nERROR    test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:316 \\u2717 Optimizer UI page failed: Status 404\\nERROR    test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:126 \\u2717 Failed to create optimization: Status 404, {\"detail\":\"Not Found\"}\\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:400 FAILED TESTS:\\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:402   get_methods - Status 404\\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:402   get_parameters - Status 404\\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:402   ui_optimizer_page - Status 404\\nWARNING  test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:402   create_optimization - Status 404\n__________________________ test_optimizer_edge_cases __________________________\ntests\\e2e\\test_optimizer_flow_comprehensive.py:429: in test_optimizer_edge_cases\n    assert response.status in [400, 422], f\"Expected error status, got {response.status}\"\nE   AssertionError: Expected error status, got 404\nE   assert 404 in [400, 422]\nE    +  where 404 = <ClientResponse(http://127.0.0.1:8024/optimize/create) [404 Not Found]>\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:01 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\n.status\n\nDuring handling of the above exception, another exception occurred:\ntests\\e2e\\test_optimizer_flow_comprehensive.py:433: in test_optimizer_edge_cases\n    pytest.fail(str(e))\nE   Failed: Expected error status, got 404\nE   assert 404 in [400, 422]\nE    +  where 404 = <ClientResponse(http://127.0.0.1:8024/optimize/create) [404 Not Found]>\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:01 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\n.status\n------------------------------ Captured log call ------------------------------\nERROR    test_optimizer_flow_comprehensive:test_optimizer_flow_comprehensive.py:432 \\u2717 Invalid config not properly rejected: Expected error status, got 404\\nassert 404 in [400, 422]\\n +  where 404 = <ClientResponse(http://127.0.0.1:8024/optimize/create) [404 Not Found]>\\\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:01 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\\\n.status\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.13.4-final-0 _______________\n\nName                                 Stmts   Miss  Cover   Missing\n------------------------------------------------------------------\nsrc\\adapters\\binance_ws.py             170    170  0.00%   5-280\nsrc\\adapters\\coingecko_free.py          89     89  0.00%   5-199\nsrc\\adapters\\stooq_eod.py               47     47  0.00%   5-111\nsrc\\adapters\\yahoo_free.py              69     69  0.00%   5-138\nsrc\\api\\ai_endpoints.py                 35     35  0.00%   4-62\nsrc\\api\\ai_local_endpoints.py           35     35  0.00%   5-111\nsrc\\api\\main.py                        102    102  0.00%   6-240\nsrc\\api\\market_endpoints.py             77     77  0.00%   4-206\nsrc\\api\\trade_endpoints.py              72     72  0.00%   4-138\nsrc\\services\\price_service_real.py      97     97  0.00%   5-184\nsrc\\services\\symbols.py                 36     36  0.00%   5-71\nsrc\\sofia\\cli.py                        52     52  0.00%   2-97\nsrc\\sofia\\config.py                     30     30  0.00%   1-41\nsrc\\sofia\\data\\realtime.py              84     84  0.00%   2-148\nsrc\\sofia\\data\\ttl_cache.py             24     24  0.00%   2-42\nsrc\\sofia\\opt\\genetic_algorithm.py      99     99  0.00%   5-218\nsrc\\sofia\\symbols.py                    12     12  0.00%   1-30\nstart_api.py                            40     40  0.00%   7-77\nstart_infrastructure.py                197    197  0.00%   7-417\nstart_sofia.py                         123    123  0.00%   7-187\nstart_ui.py                             34     34  0.00%   7-58\ntest_real_data_harness.py              139    139  0.00%   7-227\ntest_system.py                         117    117  0.00%   5-184\nverify_installation.py                  69     69  0.00%   5-104\n------------------------------------------------------------------\nTOTAL                                 1849   1849  0.00%\nCoverage HTML written to dir htmlcov\nCoverage XML written to file coverage.xml\nFAIL Required test coverage of 80% not reached. Total coverage: 0.00%\n=========================== short test summary info ===========================\nFAILED tests/e2e/test_optimizer_flow_comprehensive.py::test_complete_optimizer_flow - AssertionError: Optimizer flow pass rate too low: 1/5 (20.0%)\nassert (1 / 5) >= 0.6\nFAILED tests/e2e/test_optimizer_flow_comprehensive.py::test_optimizer_edge_cases - Failed: Expected error status, got 404\nassert 404 in [400, 422]\n +  where 404 = <ClientResponse(http://127.0.0.1:8024/optimize/create) [404 Not Found]>\\n<CIMultiDictProxy('Date': 'Fri, 29 Aug 2025 18:06:01 GMT', 'Server': 'uvicorn', 'Content-Length': '22', 'Content-Type': 'application/json')>\\n.status\n============================== 2 failed in 0.73s ==============================\n",
      "stderr": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\coverage\\control.py:945: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n",
      "success": false
    },
    {
      "test_file": "tests/e2e/test_visual_regression.py",
      "command": "C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe -m pytest tests/e2e/test_visual_regression.py -v --tb=short -s",
      "duration": 1.294668436050415,
      "returncode": 2,
      "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\python.exe\ncachedir: .pytest_cache\nrootdir: D:\\BORSA2\\sofia-v2\nconfigfile: pyproject.toml\nplugins: anyio-4.6.2.post1, asyncio-1.1.0, base-url-2.1.0, cov-6.2.1, httpx-0.35.0, playwright-0.7.0, requests-mock-1.12.1\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n=================================== ERRORS ====================================\n____________ ERROR collecting tests/e2e/test_visual_regression.py _____________\nC:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\importlib\\__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\Elyx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\ast.py:50: in parse\n    return compile(source, filename, mode, flags,\nE     File \"D:\\BORSA2\\sofia-v2\\tests\\e2e\\test_visual_regression.py\", line 305\nE       logger.warning(f\"  {result['path']} - {result.get('error', f\\\"Major: {result.get('major_changes', 0)}, Minor: {result.get('minor_changes', 0)}\\\")}\")\nE                                                                    ^\nE   SyntaxError: unexpected character after line continuation character\n=========================== short test summary info ===========================\nERROR tests/e2e/test_visual_regression.py\n!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n============================== 1 error in 0.33s ===============================\n",
      "stderr": "",
      "success": false
    }
  ]
}