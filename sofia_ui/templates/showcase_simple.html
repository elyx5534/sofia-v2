<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Showcase - {{ symbol }}</title>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <style>
        body { font-family: system-ui; margin: 20px; background: #0f0b1a; color: #e6edf3; }
        .price { font-size: 2em; color: #10b981; font-weight: bold; }
        .news { background: #111427; padding: 20px; border-radius: 12px; margin: 20px 0; }
        .news ul { list-style: none; padding: 0; }
        .news li { margin: 10px 0; padding: 10px; background: #1a1426; border-radius: 8px; }
        a { color: #9333ea; }
        .chart { margin: 20px 0; }
    </style>
</head>
<body>
    <h1>{{ symbol }} Showcase</h1>
    
    <div class="price">Last Close: ${{ '%.2f' % last_close }}</div>
    
    <div class="chart">
        <div id="tv" style="height:480px;"></div>
        <script>
            new TradingView.widget({
                "symbol": "{{ symbol }}",
                "container_id": "tv",
                "autosize": true,
                "interval": "60",
                "timezone": "Etc/UTC",
                "theme": "dark",
                "style": "1",
                "locale": "en",
                "toolbar_bg": "#f1f3f6",
                "enable_publishing": false,
                "allow_symbol_change": true
            });
        </script>
    </div>
    
    <div class="news">
        <h2>üì∞ Latest News</h2>
        <ul>
            {% for n in news %}
            <li><a href="{{ n.link }}" target="_blank">{{ n.title }}</a></li>
            {% endfor %}
        </ul>
    </div>
    
    <div class="news">
        <h3>üî¨ Quick Test</h3>
        <p><a href="/api/backtest/{{ symbol }}?fast=10&slow=20" target="_blank">
            Run Backtest API: /api/backtest/{{ symbol }}?fast=10&slow=20
        </a></p>
        <p>Then check: <a href="/cards">Strategy Cards</a></p>
    </div>
    
    <p><a href="/">‚Üê Back to Home</a></p>
</body>
</html>